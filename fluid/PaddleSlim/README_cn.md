## 简介

PaddleSlim是PaddlePaddle框架的一个子模块。PaddleSlim首次在PaddlePaddle 1.4版本中发布。在PaddleSlim中，实现了目前主流的网络剪枝、参数量化、模型蒸馏三种压缩策略，主要用于压缩图像领域模型。在后续版本中，会添加更多的压缩策略，以及完善对NLP领域模型的支持。

Paddle-Slim工具库有以下特色：

###  接口简单

- 以配置文件方式集中管理可配参数，方便实验管理
- 在普通模型训练脚本上，添加极少代码即可完成模型压缩

详见：[使用示例]()

### 效果更好

- 剪切与蒸馏压缩策略效果优于其他类似工具

详见：[效果数据]()

### 功能更强更灵活

- 剪切压缩过程自动化
- 剪切压缩策略支持更多网络结构
- 蒸馏支持多种方式，用户可自定义组合loss
- 支持快速配置多种压缩策略组合使用

详见：[使用说明]()

## 架构介绍

这里简要介绍模型压缩工具实现的整体原理，便于理解使用流程。
**图 1**为模型压缩工具的架构图，从上到下为API依赖关系。蒸馏模块、量化模块和剪切模块都间接依赖底层的paddle框架。考虑到这种依赖关系和版本的管理，我们将模型压缩工具作为了paddle框架的一部分，所以已经安装普通版本paddle的用户需要重新下载安装支持模型压缩功能的paddle，才能使用压缩功能。在**第 1节**详细介绍了paddle的下载安装。

![图片](http://agroup-bos.cdn.bcebos.com/2dd4708b216635764d43f461e5485bea48aa6328)
<center>**图 1**


如**图 1**所示，最上层的紫色模块为用户接口，在python脚本中调用模型压缩功能时，只需要构造一个Compressor对象即可，在[使用文档]()中会有详细说明。

我们将每个压缩算法称为压缩策略，在迭代训练模型的过程中调用用户注册的压缩策略完成模型压缩，如**图2**所示。其中，模型压缩工具封装好了模型训练逻辑，用户只需要提供训练模型需要的网络结构、数据、优化策略（optimizer）等，在[使用文档]()会对此详细介绍。
![图片](http://agroup-bos.cdn.bcebos.com/4a2f3c130b57e0b9208f6aa3f50cdc03f3458cb4)
<center>**图2**



## 功能列表


### 剪切

- 支持敏感度和uniform两种方式
- 支持vgg、resnet、mobilenet等各种类型的网络
- 支持用户自定义剪切范围

### 量化训练

- 支持动态和静态两种量化训练方式
- 支持以float类型模拟int8保存模型
- 支持以int8类型保存模型
- 支持以兼容paddle mobile的格式保存模型

### 蒸馏

- 支持在teacher网络和student网络任意层添加组合loss
  - 支持FSP loss
  - 支持L2 loss
  - 支持softmax with cross-entropy loss

### 其它功能

- 支持配置文件管理压缩任务超参数
- 支持多种压缩策略组合使用
- 蒸馏和剪切压缩过程支持checkpoints功能
